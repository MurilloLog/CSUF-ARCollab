# Local server

## NodeJs environment configuration
### Installation
NodeJs installation is done with the official installer which can be found at the address: [Node.js](https://nodejs.org/en)
Depending on your operating system, the installation process will be different.
For convenience, I have preferred to use linux to run all local server operations, so the description below will have the approach for this system. However, the process is exactly the same for Windows or Mac.

Once installed, proceed with the respective verification using the commands:

```bash
node --version
```

```bash
npm --version
```

The first command should return the installed version of NodeJs, while the second command returns the version of the associated NodeJs package manager.

If both commands are recognized, you can proceed with the following steps, otherwise, the NodeJs installation path must be added to the system PATH environment variable.

Now, in the next steps, the definition of the environment will be done using `Visual Studio Code` (VSCode). Any other editor can be used, although I personally like VSCode because it makes it easier for me to integrate the rest of the modules to be used.

### Workspace configuration
As a first step for the workspace configuration, the directory where the server code and its respective configuration will be stored is created. For convenience, I call this directory "Server" and inside the directory I create two new subdirectories called "Build" and "src".

In the "src'' subdirectory, the programs associated with the server will be stored. In other hand, in the "Build" subdirectory the packages generated by the compilation process will be stored.

Finally, any file outside these two subdirectories will correspond to NodeJs configuration documents.

### Modules installation
To add the necessary modules from the local server, run the following instructions from a development environment terminal. It can be a new terminal opened from VSCode:

```bash
npm i typescript ts-node-dev -D
```

```bash
npm install mongoose
```

```bash
npm install @types/express -D
```

### Server execution
To start the local server, you have to run the following command from the terminal:

```bash
npm start
```

As shown below, if the server has all the modules installed, you will be able to work sucessfully.

## MongoDB Installation
MongoDB is a non-relational database that provides the necessary tools to operate with complex documents and information.
To make use of it, it is necessary to perform an installation process of its server and client. The official documentation can be found on the [MongoDB Documentation](https://www.mongodb.com/docs/manual/installation/) website.
MongoDB community is a free edition of MongoDB that provides the services and elements necessary to set up the MongoDB server. It is available for installation on Windows, Linux and OS X operating systems. However, this edition requires a separate client to be installed.

MongoDB community provides its own installer in which it is sufficient to specify the installation directory, the components to be installed and the plugins or additional configuration.

**Complement**
As an add-on, Compass, a graphical environment for the administration of databases designed in MongoDB, is offered as an optional extra.

#### Additional configuration
As additional configuration you are asked to specify if you want to install MongoDB as a service, that means, an additional service to the OS that is started once the computer starts. For the purposes of this project, it is not necessary to define it as a service.

#### Definition in environment variables
With MongoDB installed it is necessary to add the installation directory to the OS Path variable. This is in order to run MongoDB from any system environment or directory.

#### Running MongoDB
To run MongoDB service you need to use the command:

``mongod``

This instruction initializes the MongoDB server and notifies by means of messages the different states of the process: connections, disconnections, errors, and others.

Note: The mongod command runs in the background, so it is important not to close the command window from which the service is initialized. For any other operation, it is necessary to open a new window. This command must always be executed before compiling the Server.ts script.

Once the MongoDB service has been started with the mongod command, we can leave this service running in the background and view the connection status. Now we can open a new terminal from which to continue working.
 
When you run the mongod command from the terminal, a local server is automatically started on port 27017. If you run the Compass application (add-on described above), you can graphically connect to MongoDB.

From this application it will be possible to visualize all the changes made in the application databases.
However, it will also be necessary to program the Server.ts script to perform the same process as described below.

